dict1 = {'a': 1, 'b': 2, 'c': 3}
dict2 = {'a': 1, 'b': 5, 'd': 4}

diff = {k: dict1[k] for k in dict1 if k not in dict2 or dict1[k] != dict2[k]}
print(diff)  # {'b': 2, 'c': 3}


list1 = [{'a': 1, 'b': 2}, {'a': 2, 'b': 3}]
list2 = [{'a': 1, 'b': 2}, {'a': 2, 'b': 3}]

# First the union
diff = []
if list1 != list2:
    for item in list1:
        print('looping list1')
        if item not in list2:
            diff.append(item)
    for item in list2:
        print('looping list2')
        if item not in list1:
            diff.append(item)
else:
    print('list are identical')

# diff.append(item for item in list1 if item not in list2)
# diff.append(item for item in list2 if item not in list1)

# Get items in list1 not in list2
#diff = [item for item in list1 if item not in list2]
print(diff)  # Output: [{'a': 2, 'b': 3}]